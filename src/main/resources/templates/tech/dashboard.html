<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <th:block th:replace="~{fragments/heading :: heading (title = 'Dashboard')}"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="stylesheet" th:href="@{/css/dashboard.css}"/>
</head>
<body>

<div th:replace="~{fragments/navbar :: navbar}"></div>

<div class="container-fluid my-5 px-5">
    <h1 class="mb-4 text-center">Dashboard</h1>

    <div class="row g-6 justify-content-center align-items-center">

        <!-- Models summary -->
        <div class="col-md-2">
            <div class="card shadow-sm h-100">
                <div class="card-body d-flex flex-column w-100">
                    <h3 class="card-title">Models</h3>
                    <p>Total Models: <strong th:text="${modelsCount}">0</strong></p>
                    <p>Latest Model:<br><span th:text="${latestModelName}">-</span></p>
                    <a href="/technician/models" class="btn btn-primary mt-auto">View Models</a>
                </div>
            </div>
        </div>
        <!-- Bikes summary -->
        <div class="col-md-2">
            <div class="card shadow-sm h-100">
                <div class="card-body d-flex flex-column">
                    <h3 class="card-title">Bikes</h3>
                    <p>Total Bikes: <strong th:text="${bikesCount}">0</strong></p>
                    <p>Most Popular Brand:<br><span th:text="${popularBikeBrand}">-</span></p>
                    <a href="/technician/ebikes" class="btn btn-primary mt-auto">View Bikes</a>
                </div>
            </div>
        </div>
        <!-- Customers summary -->
        <div class="col-md-2">
            <div class="card shadow-sm h-100">
                <div class="card-body d-flex flex-column">
                    <h3 class="card-title">Customers</h3>
                    <p>Total Customers: <strong th:text="${customersCount}">0</strong></p>
                    <p>Newest Customer:<br><span th:text="${latestCustomerName}">-</span></p>
                    <a href="/technician/customers" class="btn btn-primary mt-auto">View Customers</a>
                </div>
            </div>
        </div>
        <!--Test Summary-->
        <div class="col-md-2">
            <div class="card shadow-sm h-100">
                <div class="card-body d-flex flex-column">
                    <h3 class="card-title">Tests</h3>
                    <p>Total Tests: <strong th:text="${testsCount}">0</strong></p>
                    <p>Last Was On: <br><span th:text="${lastTest}">-</span></p>

                    <div class="d-flex gap-1 mt-auto align-content-between">
                        <a href="/technician/tests" class="btn btn-primary btn-sm">View Tests</a>
                        <a href="/import" class="btn btn-secondary btn-sm">Import Tests</a>
                    </div>
                </div>
            </div>
        </div>


    </div>
</div>

<div th:replace="~{fragments/footer :: footer}"></div>

</body>
</html>
